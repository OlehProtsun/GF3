<UserControl x:Class="WPFApp.View.Dialogs.UIStatus"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="120" d:DesignWidth="240">

    <UserControl.Resources>
        <Storyboard x:Key="SpinStoryboard" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="SpinnerRotate"
                             Storyboard.TargetProperty="Angle"
                             From="0" To="360" Duration="0:0:1" />
        </Storyboard>
    </UserControl.Resources>

    <Border x:Name="RootBorder"
            CornerRadius="16"
            Padding="18,14"
            Background="#F7FFFFFF"
            BorderBrush="#E6E8EC"
            BorderThickness="1"
            SnapsToDevicePixels="True">

        <Border.Effect>
            <DropShadowEffect BlurRadius="20"
                              ShadowDepth="6"
                              Opacity="0.16"
                              Color="#000000"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- ICON -->
            <Grid Grid.Row="0"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center">

                <!-- Success icon -->
                <Viewbox x:Name="SuccessIcon" Width="28" Height="28">
                    <Path x:Name="SuccessPath"
                          Stroke="#14161A"
                          StrokeThickness="2.4"
                          StrokeStartLineCap="Round"
                          StrokeEndLineCap="Round"
                          StrokeLineJoin="Round"
                          Data="M2,9 L6,13 L14,3"/>
                </Viewbox>

                <!-- Working icon (spinner) -->
                <Viewbox x:Name="WorkingIcon"
                         Width="28" Height="28"
                         Visibility="Collapsed"
                         RenderTransformOrigin="0.5,0.5">
                    <Viewbox.RenderTransform>
                        <RotateTransform x:Name="SpinnerRotate" Angle="0"/>
                    </Viewbox.RenderTransform>

                    <Grid Width="26" Height="26">
                        <Ellipse x:Name="SpinnerRing"
                                 Stroke="#14161A"
                                 StrokeThickness="2.2"
                                 Opacity="0.18"/>
                        <Path x:Name="SpinnerArc"
                              Stroke="#14161A"
                              StrokeThickness="2.2"
                              StrokeStartLineCap="Round"
                              StrokeEndLineCap="Round"
                              Data="M13,2 A11,11 0 0 1 24,13"/>
                    </Grid>
                </Viewbox>
            </Grid>

            <!-- TEXT -->
            <TextBlock x:Name="StatusText"
                       Grid.Row="1"
                       Text="Successfully"
                       Margin="0,10,0,0"
                       HorizontalAlignment="Center"
                       TextAlignment="Center"
                       FontSize="14"
                       FontWeight="SemiBold"
                       Foreground="#14161A"/>
        </Grid>
    </Border>

    <UserControl.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
            <BeginStoryboard Storyboard="{StaticResource SpinStoryboard}" />
        </EventTrigger>
    </UserControl.Triggers>
</UserControl>
