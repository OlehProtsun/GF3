<UserControl x:Class="WPFApp.View.Availability.AvailabilityProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dt="clr-namespace:WPFApp.View.Availability.DesignTime"
             mc:Ignorable="d"
             d:DesignHeight="830" d:DesignWidth="852"
             d:DataContext="{d:DesignInstance Type=dt:AvailabilityProfileViewDesignVM, IsDesignTimeCreatable=True}"
             Background="#cfd0d1">

    <UserControl.Resources>

        <Style x:Key="AnimatedButtonBaseStyle" TargetType="Button">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>

            <Style.Triggers>
                <!-- HOVER -->
                <Trigger Property="IsMouseOver" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                         To="1.04" Duration="0:0:0.10"/>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                         To="1.04" Duration="0:0:0.10"/>
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                         To="0.96" Duration="0:0:0.10"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                         To="1" Duration="0:0:0.12"/>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                         To="1" Duration="0:0:0.12"/>
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                         To="1" Duration="0:0:0.12"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>

                <!-- PRESSED -->
                <Trigger Property="IsPressed" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                         To="0.96" Duration="0:0:0.06"/>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                         To="0.96" Duration="0:0:0.06"/>
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                         To="0.92" Duration="0:0:0.06"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                         To="1.04" Duration="0:0:0.06"/>
                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                         To="1.04" Duration="0:0:0.06"/>
                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                         To="0.96" Duration="0:0:0.06"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>

                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.5"/>
                </Trigger>
            </Style.Triggers>
        </Style>


        <!-- Rounded button (як в AvailabilityEditView) -->
        <Style x:Key="RoundedButtonStyle" TargetType="Button" BasedOn="{StaticResource AnimatedButtonBaseStyle}">
            <Setter Property="Height" Value="42"/>
            <Setter Property="Padding" Value="14,0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="#FF3347FF"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid x:Name="Root" SnapsToDevicePixels="True" RenderTransformOrigin="0.5,0.5">

                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="14"/>

                            <Border x:Name="HoverOverlay"
                                    Background="#FFFFFF"
                                    Opacity="0"
                                    CornerRadius="14"/>

                            <Border x:Name="PressedOverlay"
                                    Background="#000000"
                                    Opacity="0"
                                    CornerRadius="14"/>

                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Root" Property="Opacity" Value="0.5"/>
                            </Trigger>

                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="HoverOverlay"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.12" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="HoverOverlay"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>

                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="PressedOverlay"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.18" Duration="0:0:0.06"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>

                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="PressedOverlay"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0" Duration="0:0:0.10"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Small gray back button (як в AvailabilityEditView) -->
        <Style x:Key="BackButtonSmallStyle" TargetType="Button"  BasedOn="{StaticResource AnimatedButtonBaseStyle}">
            <Setter Property="Height" Value="34"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="#FF444444"/>
            <Setter Property="Background" Value="#FFEAEAEA"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                CornerRadius="12">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#FF3347FF"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>

                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#FF2234CC"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>

                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- DataGrid base style -->
        <Style x:Key="AvailabilityListGridStyle" TargetType="DataGrid">
            <Setter Property="AutoGenerateColumns" Value="True"/>
            <Setter Property="IsReadOnly" Value="False"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserResizeRows" Value="False"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="Background" Value="Gainsboro"/>

            <Setter Property="ColumnHeaderHeight" Value="36"/>
            <Setter Property="ColumnHeaderStyle">
                <Setter.Value>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Foreground" Value="Black"/>
                        <Setter Property="FontFamily" Value="Segoe UI"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="BorderThickness" Value="0"/>
                    </Style>
                </Setter.Value>
            </Setter>

            <Setter Property="RowStyle">
                <Setter.Value>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="SnapsToDevicePixels" Value="True"/>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Matrix-like grid style (як ScheduleMatrixGridStyle з Edit) -->
        <Style x:Key="ScheduleMatrixGridStyle"
           TargetType="DataGrid"
           BasedOn="{StaticResource AvailabilityListGridStyle}">

            <!-- поведінка -->
            <Setter Property="AutoGenerateColumns" Value="True"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="RowHeaderWidth" Value="0"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserResizeRows" Value="False"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ColumnWidth" Value="*"/>
            <Setter Property="MinColumnWidth" Value="140"/>
            <Setter Property="FrozenColumnCount" Value="1"/>


            <!-- РОЗМІРИ -->
            <Setter Property="RowHeight" Value="35"/>
            <!-- висота клітинки -->
            <Setter Property="ColumnHeaderHeight" Value="45"/>
            <!-- висота хедера -->
            <Setter Property="FontSize" Value="16"/>
            <!-- шрифт в клітинках -->
            <Setter Property="ColumnWidth" Value="*"/>

            <!-- вигляд -->
            <Setter Property="GridLinesVisibility" Value="All"/>
            <Setter Property="HorizontalGridLinesBrush" Value="Gainsboro"/>
            <Setter Property="VerticalGridLinesBrush" Value="Gainsboro"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>

            <!-- КЛІТИНКИ: центр + padding -->
            <Setter Property="CellStyle">
                <Setter.Value>
                    <Style TargetType="DataGridCell">
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Padding" Value="0"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                    </Style>
                </Setter.Value>
            </Setter>

            <!-- ХЕДЕРИ: центр + більший шрифт -->
            <Setter Property="ColumnHeaderStyle">
                <Setter.Value>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Foreground" Value="Black"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                        <Setter Property="FontFamily" Value="Segoe UI"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="Padding" Value="6,0"/>
                    </Style>
                </Setter.Value>
            </Setter>

            <!-- РЯДКИ: центр на випадок якщо контент — TextBlock -->
            <Setter Property="RowStyle">
                <Setter.Value>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                        <Setter Property="SnapsToDevicePixels" Value="True"/>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Card style (як в Edit) -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="18" ShadowDepth="0" Opacity="0.12"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Icons (як в Edit) -->
        <Geometry x:Key="BackSvgIconGeometry">
            M1160 4458 c-50 -18 -90 -55 -421 -387 -418 -417 -414 -412 -414 -551 0 -138 -3 -134 409 -547 316 -317 368 -365 421 -389 255 -117 540 164 423 417 -15 32 -54 87 -93 128 l-68 72 969 -4 c966 -3 969 -3 1053 -25 412 -110 692 -452 718 -878 28 -459 -271 -870 -718 -985 -78 -21 -116 -23 -529 -28 -441 -6 -445 -6 -498 -30 -71 -32 -147 -115 -167 -183 -19 -66 -19 -150 0 -216 20 -68 96 -151 167 -183 52 -24 57 -24 443 -27 423 -4 553 4 713 43 748 181 1265 866 1229 1627 -32 661 -465 1234 -1093 1444 -58 20 -149 45 -202 57 -94 20 -125 21 -1090 24 l-994 4 66 69 c89 94 108 135 114 236 4 73 1 88 -23 143 -34 76 -113 152 -181 175 -66 22 -166 20 -234 -6z
        </Geometry>

        <Geometry x:Key="IconInformation">
            M0 0 C1.45108658 0.00273422 1.45108658 0.00273422 2.93148804 0.00552368 C17.26440977 0.05095174 31.21023917 0.55983928 45.3125 3.3125 C46.65803955 3.55395752 46.65803955 3.55395752 48.03076172 3.80029297 C107.84088904 14.62287989 165.35495829 48.68064457 202.3125 97.3125 C202.72918945 97.85277832 203.14587891 98.39305664 203.57519531 98.94970703 C211.2584873 108.9447116 218.00092968 119.40459036 224.3125 130.3125 C224.70679199 130.98974121 225.10108398 131.66698242 225.50732422 132.36474609 C238.68961173 155.2833756 247.29510918 180.85822563 252.625 206.6875 C252.77243652 207.39817627 252.91987305 208.10885254 253.07177734 208.84106445 C256.05713787 224.48358366 256.6873098 240.11919606 256.625 256 C256.62226578 257.45108658 256.62226578 257.45108658 256.61947632 258.93148804 C256.57404826 273.26440977 256.06516072 287.21023917 253.3125 301.3125 C253.15152832 302.20952637 252.99055664 303.10655273 252.82470703 304.03076172 C242.00212011 363.84088904 207.94435543 421.35495829 159.3125 458.3125 C158.77222168 458.72918945 158.23194336 459.14587891 157.67529297 459.57519531 C147.6802884 467.2584873 137.22040964 474.00092968 126.3125 480.3125 C125.63525879 480.70679199 124.95801758 481.10108398 124.26025391 481.50732422 C101.3416244 494.68961173 75.76677437 503.29510918 49.9375 508.625 C49.22682373 508.77243652 48.51614746 508.91987305 47.78393555 509.07177734 C32.14141634 512.05713787 16.50580394 512.6873098 0.625 512.625 C-0.34239105 512.62317719 -1.3097821 512.62135437 -2.30648804 512.61947632 C-16.63940977 512.57404826 -30.58523917 512.06516072 -44.6875 509.3125 C-45.58452637 509.15152832 -46.48155273 508.99055664 -47.40576172 508.82470703 C-107.21588904 498.00212011 -164.72995829 463.94435543 -201.6875 415.3125 C-202.10418945 414.77222168 -202.52087891 414.23194336 -202.95019531 413.67529297 C-210.6334873 403.6802884 -217.37592968 393.22040964 -223.6875 382.3125 C-224.08179199 381.63525879 -224.47608398 380.95801758 -224.88232422 380.26025391 C-238.06461173 357.3416244 -246.67010918 331.76677437 -252 305.9375 C-252.14743652 305.22682373 -252.29487305 304.51614746 -252.44677734 303.78393555 C-255.43213787 288.14141634 -256.0623098 272.50580394 -256 256.625 C-255.99817719 255.65760895 -255.99635437 254.6902179 -255.99447632 253.69351196 C-255.94904826 239.36059023 -255.44016072 225.41476083 -252.6875 211.3125 C-252.44604248 209.96696045 -252.44604248 209.96696045 -252.19970703 208.59423828 C-241.37712011 148.78411096 -207.31935543 91.27004171 -158.6875 54.3125 C-158.14722168 53.89581055 -157.60694336 53.47912109 -157.05029297 53.04980469 C-147.0552884 45.3665127 -136.59540964 38.62407032 -125.6875 32.3125 C-125.01025879 31.91820801 -124.33301758 31.52391602 -123.63525391 31.11767578 C-100.7166244 17.93538827 -75.14177437 9.32989082 -49.3125 4 C-48.60182373 3.85256348 -47.89114746 3.70512695 -47.15893555 3.55322266 C-31.51641634 0.56786213 -15.88080394 -0.0623098 0 0 Z M-8 113.6875 C-14.34068881 121.49006984 -16.45176089 130.46202626 -15.6875 140.3125 C-14.39576499 147.58124614 -11.51840042 152.80031876 -6.6875 158.3125 C-5.57375 159.611875 -5.57375 159.611875 -4.4375 160.9375 C4.95675669 169.05072169 14.19796355 171.8194848 26.5234375 171.625 C36.95058604 170.76502899 46.58789931 165.66071801 53.625 157.9375 C60.92299885 148.81500143 61.97759887 139.69044135 61.3125 128.3125 C60.2043672 122.98368491 57.50901962 118.67139039 54.3125 114.3125 C53.755625 113.4875 53.19875 112.6625 52.625 111.8125 C45.99893032 104.64918142 36.48502955 99.98047603 26.75390625 99.07421875 C12.40494564 98.70429982 1.72278216 103.2633231 -8 113.6875 Z M-62.6875 217.3125 C-63.5851709 217.61873291 -64.4828418 217.92496582 -65.40771484 218.24047852 C-69.64709988 219.83930551 -71.27709931 220.54456683 -73.4765625 224.66015625 C-73.75242188 225.88605469 -74.02828125 227.11195313 -74.3125 228.375 C-74.76496094 230.21771484 -74.76496094 230.21771484 -75.2265625 232.09765625 C-75.93347169 235.32070151 -75.93347169 235.32070151 -74.6875 238.3125 C-73.86507812 238.03535156 -73.04265625 237.75820312 -72.1953125 237.47265625 C-60.35927581 233.63209469 -49.96498728 231.99952724 -37.6875 235.3125 C-34.45210364 237.28993806 -32.99387234 238.64853806 -31.40234375 242.09765625 C-29.13452461 252.29664615 -30.44823966 262.56845988 -32.70703125 272.6328125 C-32.92467133 273.61665421 -33.1423114 274.60049591 -33.36654663 275.614151 C-36.29886477 288.47494381 -40.0871805 301.1016533 -43.8125 313.75 C-56.37824954 351.37345631 -56.37824954 351.37345631 -51.625 389.5 C-45.55552242 400.44610985 -35.50405714 407.32973636 -23.6394043 410.93481445 C-17.59741554 412.45086804 -11.70639942 412.64586886 -5.5 412.625 C-4.09137695 412.64916992 -4.09137695 412.64916992 -2.65429688 412.67382812 C10.61191747 412.68280999 22.68015179 408.80087333 34.93066406 404.12402344 C37.09687589 403.29941417 39.27041414 402.49669309 41.4453125 401.6953125 C42.83381058 401.17314228 44.22185045 400.64975163 45.609375 400.125 C46.2550946 399.88740967 46.90081421 399.64981934 47.56610107 399.4050293 C50.99370055 398.07884506 52.20780945 397.46953582 54.3125 394.3125 C54.91671492 391.93167147 55.4515323 389.53274906 55.9375 387.125 C56.19789063 385.85269531 56.45828125 384.58039063 56.7265625 383.26953125 C56.91992188 382.29371094 57.11328125 381.31789063 57.3125 380.3125 C55.73275391 380.745625 55.73275391 380.745625 54.12109375 381.1875 C41.78162935 384.42434059 26.17196068 387.85642087 14.3125 381.3125 C13.08203125 378.88671875 13.08203125 378.88671875 12.3125 376.3125 C11.9825 375.3225 11.6525 374.3325 11.3125 373.3125 C10.53862761 363.62803975 11.17954826 354.44732259 13.328125 344.9765625 C13.65500809 343.50653275 13.65500809 343.50653275 13.98849487 342.00680542 C17.25064532 327.74720004 21.45544975 313.72938963 25.52490234 299.68457031 C33.1969697 274.25439333 33.1969697 274.25439333 35.75 247.9375 C35.74242676 247.09735352 35.73485352 246.25720703 35.72705078 245.39160156 C35.39798265 232.97348291 30.50636303 224.19701855 21.75 215.625 C12.88731396 208.25904841 1.48524111 206.29712345 -9.6875 205.3125 C-10.44160156 205.2403125 -11.19570312 205.168125 -11.97265625 205.09375 C-29.28584854 204.29313995 -46.77701361 211.46982016 -62.6875 217.3125 Z
        </Geometry>

        <GeometryGroup x:Key="IconAvailability">
            <PathGeometry Figures="M1405 5109 c-45 -13 -105 -67 -126 -113 -16 -36 -19 -69 -19 -262 l0 -221 -127 -6 c-255 -11 -456 -104 -629 -289 -148 -159 -244 -396 -244 -604 l0 -54 2302 0 2301 0 -6 93 c-16 240 -114 447 -290 613 -170 161 -381 244 -619 244 l-88 0 0 223 c0 215 -1 226 -23 268 -83 156 -305 156 -384 -1 -22 -42 -23 -56 -23 -267 l0 -223 -870 0 -870 0 0 223 c0 252 -6 278 -76 335 -59 49 -134 63 -209 41z"/>
            <PathGeometry Figures="M262 1943 l3 -1178 22 -80 c32 -114 111 -268 180 -350 125 -148 299 -259 483 -308 l85 -22 1525 0 1525 0 85 23 c92 24 224 83 295 132 171 118 308 313 367 525 l23 80 3 1178 3 1177 -2301 0 -2301 0 3 -1177z m3310 543 c129 -38 192 -166 139 -281 -26 -56 -1268 -1290 -1325 -1316 -56 -25 -130 -24 -188 4 -65 30 -773 723 -799 782 -20 43 -25 129 -10 168 16 40 73 99 116 118 49 23 123 24 173 4 24 -11 134 -113 322 -300 l285 -285 530 530 c292 292 535 530 541 530 6 0 17 7 24 15 13 16 91 43 126 44 11 1 41 -5 66 -13z"/>
        </GeometryGroup>

    </UserControl.Resources>

    <Grid ClipToBounds="False">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- TOP CARD (як в AvailabilityEditView) -->
        <Border Grid.Row="0"
        Margin="7,0,7,0"
        Background="White"
        CornerRadius="20"
        Padding="10,10,10,12">
            <Border.Effect>
                <DropShadowEffect BlurRadius="18" ShadowDepth="2" Opacity="0.22"/>
            </Border.Effect>

            <Grid>
                <Grid.RowDefinitions>
                    <!-- Back -->
                    <RowDefinition Height="Auto"/>
                    <!-- Title -->
                    <RowDefinition Height="Auto"/>
                    <!-- Subtitle -->
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Back button (зверху над текстом) -->
                <Button Grid.Row="0"
                HorizontalAlignment="Left"
                Style="{StaticResource BackButtonSmallStyle}"
                Command="{Binding BackCommand}"
                Width="62">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Viewbox Width="14" Height="14" Margin="0,0,6,0">
                            <Path Data="{StaticResource BackSvgIconGeometry}"
                          Stretch="Uniform"
                          Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
                        </Viewbox>
                        <TextBlock Text="Back"
                           Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
                    </StackPanel>
                </Button>

                <!-- Title -->
                <TextBlock Grid.Row="1"
                   Margin="0,10,0,0"
                   Text="Availability Profile"
                   FontFamily="Segoe UI"
                   FontSize="25"
                   Foreground="Black"/>

                <!-- Subtitle -->
                <TextBlock Grid.Row="2"
                   Margin="0,6,0,0"
                   Text="Here you can see a detailed availability profile"
                   FontFamily="Segoe UI"
                   FontSize="17"
                   Foreground="Silver"/>
            </Grid>
        </Border>

        <!-- CONTENT -->
        <Grid Grid.Row="1" Margin="9,10,9,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="353"/>
                <ColumnDefinition Width="18"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT CARD: Profile info -->
            <Border Grid.Column="0"
                Style="{StaticResource CardStyle}"
                Margin="0,12,0,0"
                VerticalAlignment="Top">
                <Grid Margin="15">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Header -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                            <Path Data="{StaticResource IconInformation}"
                                  Fill="Black"
                                  Stretch="Uniform"/>
                        </Viewbox>
                        <TextBlock Text="Profile Information"
                                   FontFamily="Segoe UI"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Foreground="Black"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- ID -->
                    <Grid Grid.Row="1" Margin="0,14,230,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Availability ID:"
                                   FontFamily="Segoe UI"
                                   FontSize="12"
                                   Foreground="Gray"
                                   VerticalAlignment="Center"/>

                        <TextBlock Grid.Column="1"
                                   Text="{Binding AvailabilityId}"
                                   FontFamily="Segoe UI"
                                   FontSize="12"
                                   Foreground="Black"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"/>
                    </Grid>

                    <!-- Name + Month/Year -->
                    <StackPanel Grid.Row="2" Margin="0,14,0,0">
                        <TextBlock Text="Availability Name:"
                                   FontFamily="Segoe UI"
                                   FontSize="12"
                                   Foreground="Gray"/>
                        <TextBlock Text="{Binding AvailabilityName}"
                                   Margin="0,4,0,0"
                                   FontFamily="Segoe UI"
                                   FontSize="16"
                                   Foreground="Black"/>

                        <TextBlock Text="Availability Month-Year:"
                                   Margin="0,12,0,0"
                                   FontFamily="Segoe UI"
                                   FontSize="12"
                                   Foreground="Gray"/>
                        <TextBlock Text="{Binding AvailabilityMonthYear}"
                                   Margin="0,4,0,0"
                                   FontFamily="Segoe UI"
                                   FontSize="16"
                                   Foreground="Black"/>
                    </StackPanel>

                    <!-- Bottom buttons -->
                    <Grid Grid.Row="4" Margin="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Button Width="84"
                                Height="33"
                                Style="{StaticResource RoundedButtonStyle}"
                                Background="#FFE0E0E0"
                                Foreground="Gray"
                                Content="Cancel"
                                Command="{Binding CancelProfileCommand}"/>

                        <Button Grid.Column="2"
                                Width="86"
                                Height="33"
                                Style="{StaticResource RoundedButtonStyle}"
                                Background="#ff0000"
                                Content="Delete"
                                Command="{Binding DeleteCommand}"/>
                    </Grid>
                </Grid>
            </Border>

            <!-- RIGHT CARD: Availability table -->
            <Border Grid.Column="2"
                    Style="{StaticResource CardStyle}"
                    Margin="0,12,0,0">
                <Grid Margin="15">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Header -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                            <Path Data="{StaticResource IconAvailability}"
                                  Fill="Black"
                                  Stretch="Uniform"
                                  RenderTransformOrigin="0.5,0.5">
                                <Path.RenderTransform>
                                    <ScaleTransform ScaleX="1" ScaleY="-1"/>
                                </Path.RenderTransform>
                            </Path>
                        </Viewbox>
                        <TextBlock Text="Availability Table"
                                   FontFamily="Segoe UI"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Foreground="Black"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Grid container (як в Edit) -->
                    <Border Grid.Row="1"
                            Margin="0,12,0,12"
                            Background="White"
                            BorderBrush="#E2E2E2"
                            BorderThickness="2"
                            CornerRadius="20"
                            Padding="6"
                            ClipToBounds="True">
                        <DataGrid x:Name="dataGridAvailabilityMonthProfile"
                                  Style="{StaticResource ScheduleMatrixGridStyle}"
                                  Background="Transparent"
                                  BorderThickness="0"
                                  IsReadOnly="True"
                                  AutoGenerateColumns="True"
                                  ItemsSource="{Binding ProfileAvailabilityMonths}"
                                  SelectedItem="{Binding SelectedProfileMonth}"

                                  ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                                  ScrollViewer.CanContentScroll="True"
                                  ColumnWidth="*"
                                  MinColumnWidth="140"
                                  FrozenColumnCount="1">

                            <DataGrid.Resources>
                                <!-- Центр для тексту в клітинках -->
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="TextAlignment" Value="Center"/>
                                </Style>

                                <!-- Центр для чекбоксів (якщо auto-gen зробив DataGridCheckBoxColumn) -->
                                <Style TargetType="CheckBox">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                </Style>
                            </DataGrid.Resources>

                        </DataGrid>
                    </Border>

                    <!-- Bottom buttons -->
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Button Width="84"
                                Height="33"
                                Style="{StaticResource RoundedButtonStyle}"
                                Background="#FFE0E0E0"
                                Foreground="Gray"
                                Content="Cancel"
                                Command="{Binding CancelTableCommand}"/>

                        <Button Grid.Column="2"
                                Width="84"
                                Height="33"
                                Style="{StaticResource RoundedButtonStyle}"
                                Content="Edit"
                                Command="{Binding EditCommand}"/>
                    </Grid>
                </Grid>
            </Border>

        </Grid>
    </Grid>
</UserControl>
