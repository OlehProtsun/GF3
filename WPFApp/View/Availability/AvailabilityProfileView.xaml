<UserControl x:Class="WPFApp.View.Availability.AvailabilityProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dt="clr-namespace:WPFApp.View.Availability.DesignTime"
             mc:Ignorable="d"
             d:DesignHeight="830" d:DesignWidth="852"
             d:DataContext="{d:DesignInstance Type=dt:AvailabilityProfileViewDesignVM, IsDesignTimeCreatable=True}"
             Background="White">

    <!-- Такі ж ресурси/підходи як в AvailabilityListView / AvailabilityEditView -->
    <UserControl.Resources>

        <!-- Rounded button (аналог Guna2Button BorderRadius=12) -->
        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Height" Value="37"/>
            <Setter Property="Padding" Value="10,0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="#FF3347FF"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="12">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Rounded TextBox (на випадок якщо додаси поля пізніше) -->
        <Style x:Key="RoundedTextBoxStyle" TargetType="TextBox">
            <Setter Property="Height" Value="37"/>
            <Setter Property="Padding" Value="10,0"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="Silver"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="12">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- DataGrid style -->
        <Style x:Key="AvailabilityListGridStyle" TargetType="DataGrid">
            <Setter Property="AutoGenerateColumns" Value="True"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserResizeRows" Value="False"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="Background" Value="Gainsboro"/>

            <Setter Property="ColumnHeaderHeight" Value="36"/>
            <Setter Property="ColumnHeaderStyle">
                <Setter.Value>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="Foreground" Value="Black"/>
                        <Setter Property="FontFamily" Value="Segoe UI"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="BorderThickness" Value="0"/>
                    </Style>
                </Setter.Value>
            </Setter>

            <Setter Property="RowStyle">
                <Setter.Value>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Background" Value="White"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="SnapsToDevicePixels" Value="True"/>
                    </Style>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- TOP CARD -->
        <Border Grid.Row="0"
                Margin="5,0,5,0"
                Height="99"
                Background="White"
                CornerRadius="20">
            <Border.Effect>
                <DropShadowEffect BlurRadius="18" ShadowDepth="2" Opacity="0.22"/>
            </Border.Effect>

            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Back -->
                <Button x:Name="btnBackToAvailabilityListFromProfile"
                        Width="77"
                        Height="33"
                        Background="#FFE7E7E7"
                        Foreground="DarkGray"
                        Style="{StaticResource RoundedButtonStyle}"
                        VerticalAlignment="Top"
                        HorizontalAlignment="Left"
                        Content="Back"
                        Command="{Binding BackCommand}"/>

                <!-- Title + description -->
                <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                    <TextBlock x:Name="label16"
                               Text="Availability Profile"
                               FontFamily="Segoe UI"
                               FontSize="15"
                               Foreground="Black"/>
                    <TextBlock x:Name="label17"
                               Margin="0,2,0,0"
                               Text="Here you can see a detailed availability profile"
                               FontFamily="Segoe UI"
                               FontSize="12"
                               Foreground="Silver"/>
                </StackPanel>

                <!-- Add New -->
                <Button x:Name="guna2Button9"
                        Grid.Column="2"
                        Width="105"
                        Height="37"
                        Style="{StaticResource RoundedButtonStyle}"
                        VerticalAlignment="Bottom"
                        HorizontalAlignment="Right"
                        Content="Add New"
                        Command="{Binding AddNewCommand}"/>
            </Grid>
        </Border>

        <!-- CONTENT -->
        <Grid Grid.Row="1" Margin="9,10,9,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="353"/>
                <ColumnDefinition Width="15"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT: Profile Information -->
            <Border Grid.Column="0"
                    Background="White"
                    CornerRadius="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="18" ShadowDepth="2" Opacity="0.22"/>
                </Border.Effect>

                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Header pill button -->
                    <Button x:Name="guna2Button8"
                            Grid.Row="0"
                            Background="White"
                            BorderThickness="0"
                            Padding="10,6"
                            HorizontalAlignment="Left">
                        <TextBlock Text="Profile Information"
                                   FontFamily="Segoe UI"
                                   FontSize="11.25"
                                   FontWeight="Bold"
                                   Foreground="Black"/>
                    </Button>

                    <!-- Availability ID row -->
                    <Grid Grid.Row="1" Margin="0,6,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock x:Name="label2"
                                   Grid.Column="1"
                                   Text="Availability ID:"
                                   FontFamily="Segoe UI"
                                   FontSize="12"
                                   Foreground="Gray"
                                   VerticalAlignment="Center"/>

                        <TextBlock x:Name="lblAvailabilityId"
                                   Grid.Column="1"
                                   Margin="0,18,0,0"
                                   Text="{Binding AvailabilityId}"
                                   FontFamily="Segoe UI"
                                   FontSize="12"
                                   Foreground="Black"
                                   HorizontalAlignment="Right"/>
                    </Grid>

                    <!-- Name -->
                    <TextBlock x:Name="label9"
                               Grid.Row="2"
                               Margin="0,10,0,0"
                               Text="Availability Name:"
                               FontFamily="Segoe UI"
                               FontSize="12"
                               Foreground="Gray"/>

                    <TextBlock x:Name="lblAvailabilityName"
                               Grid.Row="3"
                               Margin="0,4,0,0"
                               Text="{Binding AvailabilityName}"
                               FontFamily="Segoe UI"
                               FontSize="15.75"
                               Foreground="Black"/>

                    <!-- Month-Year -->
                    <TextBlock x:Name="label8"
                               Grid.Row="4"
                               Margin="0,10,0,0"
                               Text="Availability Month-Year:"
                               FontFamily="Segoe UI"
                               FontSize="12"
                               Foreground="Gray"/>

                    <TextBlock x:Name="lblAvailabilityMonthYear"
                               Grid.Row="4"
                               Margin="0,24,0,0"
                               Text="{Binding AvailabilityMonthYear}"
                               FontFamily="Segoe UI"
                               FontSize="15.75"
                               Foreground="Black"/>

                    <!-- Bottom buttons -->
                    <Grid Grid.Row="5" Margin="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Button x:Name="btnCancelProfile"
                                Width="65"
                                Height="33"
                                Background="#FFE0E0E0"
                                Foreground="Silver"
                                Style="{StaticResource RoundedButtonStyle}"
                                Content="Cancel"
                                Command="{Binding CancelProfileCommand}"/>

                        <Button x:Name="btnDelete"
                                Grid.Column="2"
                                Width="71"
                                Height="33"
                                Background="#FFFF5E62"
                                Style="{StaticResource RoundedButtonStyle}"
                                Content="Delete"
                                Command="{Binding DeleteCommand}"/>
                    </Grid>
                </Grid>
            </Border>

            <!-- RIGHT: Availability Table -->
            <Border Grid.Column="2"
                    Background="White"
                    CornerRadius="20">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="18" ShadowDepth="2" Opacity="0.22"/>
                </Border.Effect>

                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Header pill button -->
                    <Button x:Name="guna2Button2"
                            Grid.Row="0"
                            Background="White"
                            BorderThickness="0"
                            Padding="10,6"
                            HorizontalAlignment="Left">
                        <TextBlock Text="Availability Table"
                                   FontFamily="Segoe UI"
                                   FontSize="11.25"
                                   FontWeight="Bold"
                                   Foreground="Black"/>
                    </Button>

                    <!-- DataGrid -->
                    <Border Grid.Row="1"
                            Margin="0,10,0,10"
                            Background="Gainsboro"
                            CornerRadius="20"
                            ClipToBounds="True">
                        <DataGrid x:Name="dataGridAvailabilityMonthProfile"
                                  Style="{StaticResource AvailabilityListGridStyle}"
                                  AutoGenerateColumns="False"
                                  ItemsSource="{Binding ProfileAvailabilityMonths}"
                                  SelectedItem="{Binding SelectedProfileMonth}"/>
                    </Border>

                    <!-- Bottom buttons -->
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Button x:Name="btnCancelProfile2"
                                Width="65"
                                Height="33"
                                Background="#FFE0E0E0"
                                Foreground="Silver"
                                Style="{StaticResource RoundedButtonStyle}"
                                Content="Cancel"
                                Command="{Binding CancelTableCommand}"/>

                        <Button x:Name="btnEdit"
                                Grid.Column="2"
                                Width="73"
                                Height="33"
                                Style="{StaticResource RoundedButtonStyle}"
                                Content="Edit"
                                Command="{Binding EditCommand}"/>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</UserControl>
