<Window x:Class="GF3.Presentation.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:GF3.Presentation.Wpf.ViewModels"
        Title="GF3" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        Background="{StaticResource AppBackgroundBrush}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="79" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0"
                Background="{StaticResource SurfaceBrush}">
            <Border Margin="7,6"
                    Background="{StaticResource SurfaceBrush}"
                    BorderBrush="{StaticResource SurfaceBorderBrush}"
                    BorderThickness="1"
                    CornerRadius="15">
                <DockPanel>
                    <StackPanel DockPanel.Dock="Top" Margin="8,12,8,0">
                        <TextBlock Text="Home" Style="{StaticResource CaptionTextStyle}" />
                        <TextBlock Text="Views" Style="{StaticResource SidebarSectionStyle}" Margin="0,12,0,8" />

                        <ToggleButton Style="{StaticResource NavButtonStyle}"
                                      Command="{Binding ShowEmployeeCommand}"
                                      IsChecked="{Binding ActivePage, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Employee}">
                            <TextBlock Text="E" />
                        </ToggleButton>
                        <TextBlock Text="Employee" Style="{StaticResource SidebarLabelStyle}" />

                        <ToggleButton Style="{StaticResource NavButtonStyle}"
                                      Command="{Binding ShowShopCommand}"
                                      IsChecked="{Binding ActivePage, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Shop}">
                            <TextBlock Text="S" />
                        </ToggleButton>
                        <TextBlock Text="Shop" Style="{StaticResource SidebarLabelStyle}" />

                        <ToggleButton Style="{StaticResource NavButtonStyle}"
                                      Command="{Binding ShowAvailabilityCommand}"
                                      IsChecked="{Binding ActivePage, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Availability}">
                            <TextBlock Text="A" />
                        </ToggleButton>
                        <TextBlock Text="Availability" Style="{StaticResource SidebarLabelStyle}" />

                        <ToggleButton Style="{StaticResource NavButtonStyle}"
                                      Command="{Binding ShowContainerCommand}"
                                      IsChecked="{Binding ActivePage, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter=Container}">
                            <TextBlock Text="C" />
                        </ToggleButton>
                        <TextBlock Text="Container" Style="{StaticResource SidebarLabelStyle}" />
                    </StackPanel>

                    <StackPanel DockPanel.Dock="Bottom" Margin="8,0,8,12">
                        <TextBlock Text="Settings" Style="{StaticResource SidebarSectionStyle}" />
                        <Separator Margin="0,4,0,8" />
                        <Button Style="{StaticResource IconButtonStyle}" Command="{Binding MinimizeCommand}">
                            <TextBlock Text="_" />
                        </Button>
                        <TextBlock Text="Minimize" Style="{StaticResource SidebarLabelStyle}" />
                        <Button Style="{StaticResource IconButtonStyle}" Command="{Binding CloseCommand}" Margin="0,8,0,0">
                            <TextBlock Text="X" />
                        </Button>
                        <TextBlock Text="Exit" Style="{StaticResource SidebarLabelStyle}" />
                    </StackPanel>
                </DockPanel>
            </Border>
        </Border>

        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Border Background="{StaticResource SurfaceBrush}"
                    BorderBrush="{StaticResource SurfaceBorderBrush}"
                    BorderThickness="0,0,0,1"
                    MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <TextBlock Text="GF3 Scheduling" Style="{StaticResource TitleTextStyle}" VerticalAlignment="Center" Margin="16,0" />
            </Border>

            <ContentControl Grid.Row="1"
                            Content="{Binding CurrentPageViewModel}" />

            <Border Background="#66000000"
                    Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}}">
                <Border HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Background="{StaticResource SurfaceBrush}"
                        Padding="24"
                        CornerRadius="12">
                    <StackPanel>
                        <TextBlock Text="{Binding BusyText}" Style="{StaticResource BodyTextStyle}" TextAlignment="Center" />
                        <ProgressBar IsIndeterminate="True" Height="6" Margin="0,12,0,0" />
                    </StackPanel>
                </Border>
            </Border>
        </Grid>
    </Grid>
</Window>
